{"version":3,"sources":["webpack://metronic/../demo1/src/js/pages/crud/datatables/search-options/column-search.js"],"names":[],"mappings":";;;;;;AAAa;AACb;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;;AAEA,CAAC;;AAED;AACA;AACA,CAAC","file":"js/pages/crud/datatables/search-options/column-search.js","sourcesContent":["\"use strict\";\r\nvar KTDatatablesSearchOptionsColumnSearch = function() {\r\n\r\n    $.fn.dataTable.Api.register('column().title()', function() {\r\n        return $(this.header()).text().trim();\r\n    });\r\n\r\n    var initTable1 = function() {\r\n\r\n        // begin first table\r\n        var table = $('#kt_datatable').DataTable({\r\n            responsive: true,\r\n\r\n            // Pagination settings\r\n            dom: `<'row'<'col-sm-12'tr>>\r\n\t\t\t<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\r\n            // read more: https://datatables.net/examples/basic_init/dom.html\r\n\r\n            lengthMenu: [5, 10, 25, 50],\r\n\r\n            pageLength: 10,\r\n\r\n            language: {\r\n                'lengthMenu': 'Display _MENU_',\r\n            },\r\n\r\n            searchDelay: 500,\r\n            processing: true,\r\n            serverSide: true,\r\n            ajax: {\r\n                url: HOST_URL + '/api/datatables/demos/server.php',\r\n                type: 'POST',\r\n                data: {\r\n                    // parameters for custom backend script demo\r\n                    columnsDef: [\r\n                        'RecordID', 'OrderID', 'Country', 'ShipCity', 'CompanyAgent',\r\n                        'ShipDate', 'Status', 'Type', 'Actions',\r\n                    ],\r\n                },\r\n            },\r\n            columns: [{\r\n                    data: 'RecordID'\r\n                },\r\n                {\r\n                    data: 'OrderID'\r\n                },\r\n                {\r\n                    data: 'Country'\r\n                },\r\n                {\r\n                    data: 'ShipCity'\r\n                },\r\n                {\r\n                    data: 'CompanyAgent'\r\n                },\r\n                {\r\n                    data: 'ShipDate'\r\n                },\r\n                {\r\n                    data: 'Status'\r\n                },\r\n                {\r\n                    data: 'Type'\r\n                },\r\n                {\r\n                    data: 'Actions',\r\n                    responsivePriority: -1\r\n                },\r\n            ],\r\n            initComplete: function() {\r\n                var thisTable = this;\r\n                var rowFilter = $('<tr class=\"filter\"></tr>').appendTo($(table.table().header()));\r\n\r\n                this.api().columns().every(function() {\r\n                    var column = this;\r\n                    var input;\r\n\r\n                    switch (column.title()) {\r\n                        case 'Record ID':\r\n                        case 'Order ID':\r\n                        case 'Ship City':\r\n                        case 'Company Agent':\r\n                            input = $(`<input type=\"text\" class=\"form-control form-control-sm form-filter datatable-input\" data-col-index=\"` + column.index() + `\"/>`);\r\n                            break;\r\n\r\n                        case 'Country':\r\n                            input = $(`<select class=\"form-control form-control-sm form-filter datatable-input\" title=\"Select\" data-col-index=\"` + column.index() + `\">\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option></select>`);\r\n                            column.data().unique().sort().each(function(d, j) {\r\n                                $(input).append('<option value=\"' + d + '\">' + d + '</option>');\r\n                            });\r\n                            break;\r\n\r\n                        case 'Status':\r\n                            var status = {\r\n                                1: {\r\n                                    'title': 'Pending',\r\n                                    'class': 'label-light-primary'\r\n                                },\r\n                                2: {\r\n                                    'title': 'Delivered',\r\n                                    'class': ' label-light-danger'\r\n                                },\r\n                                3: {\r\n                                    'title': 'Canceled',\r\n                                    'class': ' label-light-primary'\r\n                                },\r\n                                4: {\r\n                                    'title': 'Success',\r\n                                    'class': ' label-light-success'\r\n                                },\r\n                                5: {\r\n                                    'title': 'Info',\r\n                                    'class': ' label-light-info'\r\n                                },\r\n                                6: {\r\n                                    'title': 'Danger',\r\n                                    'class': ' label-light-danger'\r\n                                },\r\n                                7: {\r\n                                    'title': 'Warning',\r\n                                    'class': ' label-light-warning'\r\n                                },\r\n                            };\r\n                            input = $(`<select class=\"form-control form-control-sm form-filter datatable-input\" title=\"Select\" data-col-index=\"` + column.index() + `\">\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option></select>`);\r\n                            column.data().unique().sort().each(function(d, j) {\r\n                                $(input).append('<option value=\"' + d + '\">' + status[d].title + '</option>');\r\n                            });\r\n                            break;\r\n\r\n                        case 'Type':\r\n                            var status = {\r\n                                1: {\r\n                                    'title': 'Online',\r\n                                    'state': 'danger'\r\n                                },\r\n                                2: {\r\n                                    'title': 'Retail',\r\n                                    'state': 'primary'\r\n                                },\r\n                                3: {\r\n                                    'title': 'Direct',\r\n                                    'state': 'success'\r\n                                },\r\n                            };\r\n                            input = $(`<select class=\"form-control form-control-sm form-filter datatable-input\" title=\"Select\" data-col-index=\"` + column.index() + `\">\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option></select>`);\r\n                            column.data().unique().sort().each(function(d, j) {\r\n                                $(input).append('<option value=\"' + d + '\">' + status[d].title + '</option>');\r\n                            });\r\n                            break;\r\n\r\n                        case 'Ship Date':\r\n                            input = $(`\r\n    \t\t\t\t\t\t\t<div class=\"input-group date\">\r\n    \t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm datatable-input\" readonly placeholder=\"From\" id=\"kt_datepicker_1\"\r\n    \t\t\t\t\t\t\t\t data-col-index=\"` + column.index() + `\"/>\r\n    \t\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n    \t\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><i class=\"la la-calendar-o glyphicon-th\"></i></span>\r\n    \t\t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t\t\t<div class=\"input-group date d-flex align-content-center\">\r\n    \t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm datatable-input\" readonly placeholder=\"To\" id=\"kt_datepicker_2\"\r\n    \t\t\t\t\t\t\t\t data-col-index=\"` + column.index() + `\"/>\r\n    \t\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n    \t\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><i class=\"la la-calendar-o glyphicon-th\"></i></span>\r\n    \t\t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t\t\t</div>`);\r\n                            break;\r\n\r\n                        case 'Actions':\r\n                            var search = $(`\r\n                                <button class=\"btn btn-primary kt-btn btn-sm kt-btn--icon d-block\">\r\n\t\t\t\t\t\t\t        <span>\r\n\t\t\t\t\t\t\t            <i class=\"la la-search\"></i>\r\n\t\t\t\t\t\t\t            <span>Search</span>\r\n\t\t\t\t\t\t\t        </span>\r\n\t\t\t\t\t\t\t    </button>`);\r\n\r\n                            var reset = $(`\r\n                                <button class=\"btn btn-secondary kt-btn btn-sm kt-btn--icon\">\r\n\t\t\t\t\t\t\t        <span>\r\n\t\t\t\t\t\t\t           <i class=\"la la-close\"></i>\r\n\t\t\t\t\t\t\t           <span>Reset</span>\r\n\t\t\t\t\t\t\t        </span>\r\n\t\t\t\t\t\t\t    </button>`);\r\n\r\n                            $('<th>').append(search).append(reset).appendTo(rowFilter);\r\n\r\n                            $(search).on('click', function(e) {\r\n                                e.preventDefault();\r\n                                var params = {};\r\n                                $(rowFilter).find('.datatable-input').each(function() {\r\n                                    var i = $(this).data('col-index');\r\n                                    if (params[i]) {\r\n                                        params[i] += '|' + $(this).val();\r\n                                    } else {\r\n                                        params[i] = $(this).val();\r\n                                    }\r\n                                });\r\n                                $.each(params, function(i, val) {\r\n                                    // apply search params to datatable\r\n                                    table.column(i).search(val ? val : '', false, false);\r\n                                });\r\n                                table.table().draw();\r\n                            });\r\n\r\n                            $(reset).on('click', function(e) {\r\n                                e.preventDefault();\r\n                                $(rowFilter).find('.datatable-input').each(function(i) {\r\n                                    $(this).val('');\r\n                                    table.column($(this).data('col-index')).search('', false, false);\r\n                                });\r\n                                table.table().draw();\r\n                            });\r\n                            break;\r\n                    }\r\n\r\n                    if (column.title() !== 'Actions') {\r\n                        $(input).appendTo($('<th>').appendTo(rowFilter));\r\n                    }\r\n                });\r\n\r\n                // hide search column for responsive table\r\n                var hideSearchColumnResponsive = function() {\r\n                    thisTable.api().columns().every(function() {\r\n                        var column = this\r\n                        if (column.responsiveHidden()) {\r\n                            $(rowFilter).find('th').eq(column.index()).show();\r\n                        } else {\r\n                            $(rowFilter).find('th').eq(column.index()).hide();\r\n                        }\r\n                    })\r\n                };\r\n\r\n                // init on datatable load\r\n                hideSearchColumnResponsive();\r\n                // recheck on window resize\r\n                window.onresize = hideSearchColumnResponsive;\r\n\r\n                $('#kt_datepicker_1,#kt_datepicker_2').datepicker();\r\n            },\r\n            columnDefs: [{\r\n                    targets: -1,\r\n                    title: 'Actions',\r\n                    orderable: false,\r\n                    render: function(data, type, full, meta) {\r\n                        return '\\\r\n\t\t\t\t\t\t\t<div class=\"dropdown dropdown-inline\">\\\r\n\t\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"btn btn-sm btn-clean btn-icon\" data-toggle=\"dropdown\">\\\r\n\t                                <i class=\"la la-cog\"></i>\\\r\n\t                            </a>\\\r\n\t\t\t\t\t\t\t  \t<div class=\"dropdown-menu dropdown-menu-sm dropdown-menu-right\">\\\r\n\t\t\t\t\t\t\t\t\t<ul class=\"nav nav-hoverable flex-column\">\\\r\n\t\t\t\t\t\t\t    \t\t<li class=\"nav-item\"><a class=\"nav-link\" href=\"#\"><i class=\"nav-icon la la-edit\"></i><span class=\"nav-text\">Edit Details</span></a></li>\\\r\n\t\t\t\t\t\t\t    \t\t<li class=\"nav-item\"><a class=\"nav-link\" href=\"#\"><i class=\"nav-icon la la-leaf\"></i><span class=\"nav-text\">Update Status</span></a></li>\\\r\n\t\t\t\t\t\t\t    \t\t<li class=\"nav-item\"><a class=\"nav-link\" href=\"#\"><i class=\"nav-icon la la-print\"></i><span class=\"nav-text\">Print</span></a></li>\\\r\n\t\t\t\t\t\t\t\t\t</ul>\\\r\n\t\t\t\t\t\t\t  \t</div>\\\r\n\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"btn btn-sm btn-clean btn-icon\" title=\"Edit details\">\\\r\n\t\t\t\t\t\t\t\t<i class=\"la la-edit\"></i>\\\r\n\t\t\t\t\t\t\t</a>\\\r\n\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"btn btn-sm btn-clean btn-icon\" title=\"Delete\">\\\r\n\t\t\t\t\t\t\t\t<i class=\"la la-trash\"></i>\\\r\n\t\t\t\t\t\t\t</a>\\\r\n\t\t\t\t\t\t';\r\n                    },\r\n                },\r\n                {\r\n                    targets: 5,\r\n                    width: '150px',\r\n                },\r\n                {\r\n                    targets: 6,\r\n                    width: '100px',\r\n                    render: function(data, type, full, meta) {\r\n                        var status = {\r\n                            1: {\r\n                                'title': 'Pending',\r\n                                'class': 'label-light-primary'\r\n                            },\r\n                            2: {\r\n                                'title': 'Delivered',\r\n                                'class': ' label-light-danger'\r\n                            },\r\n                            3: {\r\n                                'title': 'Canceled',\r\n                                'class': ' label-light-primary'\r\n                            },\r\n                            4: {\r\n                                'title': 'Success',\r\n                                'class': ' label-light-success'\r\n                            },\r\n                            5: {\r\n                                'title': 'Info',\r\n                                'class': ' label-light-info'\r\n                            },\r\n                            6: {\r\n                                'title': 'Danger',\r\n                                'class': ' label-light-danger'\r\n                            },\r\n                            7: {\r\n                                'title': 'Warning',\r\n                                'class': ' label-light-warning'\r\n                            },\r\n                        };\r\n                        if (typeof status[data] === 'undefined') {\r\n                            return data;\r\n                        }\r\n                        return '<span class=\"label label-lg font-weight-bold' + status[data].class + ' label-inline\">' + status[data].title + '</span>';\r\n                    },\r\n                },\r\n                {\r\n                    targets: 7,\r\n                    width: '100px',\r\n                    render: function(data, type, full, meta) {\r\n                        var status = {\r\n                            1: {\r\n                                'title': 'Online',\r\n                                'state': 'danger'\r\n                            },\r\n                            2: {\r\n                                'title': 'Retail',\r\n                                'state': 'primary'\r\n                            },\r\n                            3: {\r\n                                'title': 'Direct',\r\n                                'state': 'success'\r\n                            },\r\n                        };\r\n                        if (typeof status[data] === 'undefined') {\r\n                            return data;\r\n                        }\r\n                        return '<span class=\"label label-' + status[data].state + ' label-dot mr-2\"></span>' +\r\n                            '<span class=\"font-weight-bold text-' + status[data].state + '\">' + status[data].title + '</span>';\r\n                    },\r\n                },\r\n            ],\r\n        });\r\n\r\n    };\r\n\r\n    return {\r\n\r\n        //main function to initiate the module\r\n        init: function() {\r\n            initTable1();\r\n        },\r\n\r\n    };\r\n\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n    KTDatatablesSearchOptionsColumnSearch.init();\r\n});\r\n"],"sourceRoot":""}